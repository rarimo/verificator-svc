openapi: 3.0.0
info:
  version: 1.0.0
  title: verificator-svc
  description: ''
servers:
  - url: 'https://api.stage.rarime.com'
    description: Rarimo Developer Environment
paths:
  '/integrations/verificator-svc/light/private/user/{user_id}':
    delete:
      tags:
        - 'Light User verification[DEPRECATED]'
      summary: Delete user
      description: |
        DEPRECATED: The light verification flow is deprecated and will be removed in a future version. Please use the full verification flow instead.

        Delete user by UserID.
      deprecated: true
      operationId: deleteUser
      parameters:
        - $ref: '#/components/parameters/pathID'
      responses:
        '204':
          description: User deleted
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
    get:
      tags:
        - 'Light User verification[DEPRECATED]'
      summary: Get user
      description: |
        DEPRECATED: The light verification flow is deprecated and will be removed in a future version. Please use the full verification flow instead.

        Get information about user by UserID
      deprecated: true
      operationId: getUser
      parameters:
        - $ref: '#/components/parameters/pathID'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/UserParams'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  /integrations/verificator-svc/light/private/verification-link:
    post:
      tags:
        - 'Light User verification[DEPRECATED]'
      summary: Request verification links for qr-code generation
      description: |
        DEPRECATED: The light verification flow is deprecated and will be removed in a future version. Please use the full verification flow instead.

        Requests verification links for user to generate qr-code, returns: get_proof_params.
      deprecated: true
      operationId: getVerificationLink
      requestBody:
        required: true
        content:
          application/vnd.api+json:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  $ref: '#/components/schemas/User'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/LinksLight'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/light/private/verification-status/{user_id}':
    get:
      tags:
        - 'Light User verification[DEPRECATED]'
      summary: Get user verification status
      description: |
        DEPRECATED: The light verification flow is deprecated and will be removed in a future version. Please use the full verification flow instead.

        Get user verification status by UserID.
      deprecated: true
      operationId: getUserStatus
      parameters:
        - $ref: '#/components/parameters/pathID'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/Status'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/light/public/callback-sign/{user_id_hash}':
    post:
      tags:
        - 'Light Signature[DEPRECATED]'
      summary: Receive signature and message by callback(mobile)
      description: |-
        DEPRECATED: The light verification flow is deprecated and will be removed in a future version. Please use the full verification flow instead.
        It receives the signature and message for verification by callback url
      deprecated: true
      operationId: receiveSignatureByCallback
      parameters:
        - $ref: '#/components/parameters/pathIDHash'
      requestBody:
        required: true
        content:
          application/vnd.api+json:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  $ref: '#/components/schemas/Signature'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/Status'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/light/public/proof-params/{user_id_hash}':
    get:
      tags:
        - 'Light Signature[DEPRECATED]'
      summary: Get Proof Parameters(mobile)
      description: |
        DEPRECATED: The light verification flow is deprecated and will be removed in a future version. Please use the full verification flow instead.

        Get proof parameters by userIDHash, returns: proof-params and callback_url.
      deprecated: true
      operationId: getProofParameters
      parameters:
        - $ref: '#/components/parameters/pathIDHash'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/ProofParamsLight'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/private/proof/{user_id}':
    get:
      tags:
        - User verification
      summary: Get verified proof
      description: |
        Get verified proof by userID.
      operationId: getProof
      parameters:
        - $ref: '#/components/parameters/idParam'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/GetProof'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/private/user/{user_id}':
    delete:
      tags:
        - User verification
      summary: Delete user
      description: |
        Delete user by UserID.
      operationId: deleteUser
      parameters:
        - $ref: '#/components/parameters/pathID'
      responses:
        '204':
          description: User deleted
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  /integrations/verificator-svc/private/verification-link:
    post:
      tags:
        - User verification
      summary: Request verification links for qr-code generation
      description: |
        Requests verification links for user to generate qr-code, returns: get_proof_params.
      operationId: getVerificationLink
      requestBody:
        required: true
        content:
          application/vnd.api+json:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  $ref: '#/components/schemas/User'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/Links'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/private/verification-status/{user_id}':
    get:
      tags:
        - User verification
      summary: Get user verification status
      description: |
        Get user verification status by UserID.
      operationId: getUserStatus
      parameters:
        - $ref: '#/components/parameters/pathID'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/Status'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/public/callback/{user_id_hash}':
    post:
      tags:
        - Proof
      summary: Receive Proof by callback(mobile)
      description: It receives the proof for verification by callback url
      operationId: receiveProofByCallback
      parameters:
        - $ref: '#/components/parameters/pathIDHash'
      requestBody:
        required: true
        content:
          application/vnd.api+json:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  $ref: '#/components/schemas/Proof'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/Status'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  /integrations/verificator-svc/public/proof-parameters:
    get:
      tags:
        - Proof
      summary: Get Proof Parameters(internal)
      description: |
        Get proof parameters for user with provided query parameters(internal, better to use verification links to get proof-parameters).
      operationId: getVerificationParameters
      parameters:
        - $ref: '#/components/parameters/idParam'
        - $ref: '#/components/parameters/typeOfVerificationAgeParam'
        - $ref: '#/components/parameters/typeOfVerificationUniquenessParam'
        - $ref: '#/components/parameters/nationalityParam'
        - $ref: '#/components/parameters/eventIdParam'
        - $ref: '#/components/parameters/expirationLowerBoundParam'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/Parameters'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  '/integrations/verificator-svc/public/proof-params/{user_id_hash}':
    get:
      tags:
        - Proof
      summary: Get Proof Parameters(mobile)
      description: |
        Get proof parameters by userIDHash, returns: proof-params and callback_url.
      operationId: getProofParameters
      parameters:
        - $ref: '#/components/parameters/pathIDHash'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/ProofParams'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
  /integrations/verificator-svc/v2/private/verification-link:
    post:
      tags:
        - Advanced verification
      summary: Request verification links with custom proof parameters
      description: |
        Requests verification links for user to generate qr-code with custom proof parameters provided.
        This endpoint accepts all proof parameters directly instead of calculating them.
      operationId: getVerificationLinkV2
      requestBody:
        required: true
        content:
          application/vnd.api+json:
            schema:
              type: object
              required:
                - data
              properties:
                data:
                  $ref: '#/components/schemas/AdvancedVerification'
      responses:
        '200':
          description: Success
          content:
            application/vnd.api+json:
              schema:
                type: object
                required:
                  - data
                properties:
                  data:
                    $ref: '#/components/schemas/Links'
        '400':
          $ref: '#/components/responses/invalidParameter'
        '404':
          $ref: '#/components/responses/notFound'
        '500':
          $ref: '#/components/responses/internalError'
components:
  schemas:
    AdvancedVerification:
      allOf:
        - $ref: '#/components/schemas/AdvancedVerificationKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              required:
                - event_id
                - selector
              properties:
                event_id:
                  type: string
                  example: '12345678900987654321'
                  description: Event ID
                selector:
                  type: string
                  example: '35425'
                  description: Selector value
                age_lower_bound:
                  type: integer
                  example: 18
                  description: Lower user age limit
                citizenship_mask:
                  type: string
                  example: UKR
                  description: User citezenship mask
                expiration_lower_bound:
                  type: boolean
                  example: true
                  description: Enable verification of expiration lower bound param
                identity_counter:
                  type: integer
                  example: 0
                  description: Identity counter
                identity_counter_lower_bound:
                  type: integer
                  example: 0
                  description: Identity counter lower bound
                identity_counter_upper_bound:
                  type: integer
                  example: 1
                  description: Identity counter upper bound
                birth_date_lower_bound:
                  type: string
                  example: '0x303030303030'
                  description: Birth date lower bound in hex format
                birth_date_upper_bound:
                  type: string
                  example: '0x303430363137'
                  description: Birth date upper bound in hex format
                event_data:
                  type: string
                  example: '0x69d9c5f9dd91dbaff7815947e58dade0db8c8d89e1223259399de86bfc9abd'
                  description: Event data in hex format
                expiration_date_lower_bound:
                  type: string
                  example: '0x303030303030'
                  description: Expiration date lower bound in hex format
                expiration_date_upper_bound:
                  type: string
                  example: '0x303030303030'
                  description: Expiration date upper bound in hex format
                timestamp_lower_bound:
                  type: integer
                  format: int64
                  example: '0'
                  description: Timestamp lower bound
                timestamp_upper_bound:
                  type: integer
                  format: int64
                  example: '1726059494'
                  description: Timestamp upper bound
    AdvancedVerificationKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: example@example.com
          description: 'User identifier (e.g., email, address).'
        type:
          type: string
          enum:
            - advanced_verification
    Errors:
      description: 'Standard JSON:API error'
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          description: Non empty array of errors occurred during request processing
          items:
            type: object
            required:
              - title
              - status
            properties:
              title:
                type: string
                description: 'Title is a short, human-readable summary of the problem'
                example: Bad Request
              detail:
                type: string
                description: Detail is a human-readable explanation specific to this occurrence of the problem
                example: Request body was expected
              status:
                type: integer
                description: Status is the HTTP status code applicable to this problem
                example: 400
                enum:
                  - 400
                  - 401
                  - 403
                  - 404
                  - 409
                  - 500
    GetProof:
      allOf:
        - $ref: '#/components/schemas/GetProofKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              required:
                - proof
              properties:
                proof:
                  type: object
                  format: types.ZKProof
                  description: |
                    Query ZK passport verification proof.
    GetProofKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: 18493889724322d9aba2d93238ae60c2638946737bbe8eaecd6e5efdc0b6f4ff
          description: User hash identifier
        type:
          type: string
          enum:
            - get_proof
    Links:
      allOf:
        - $ref: '#/components/schemas/LinksKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              required:
                - get_proof_params
              properties:
                get_proof_params:
                  type: string
                  example: 'https://example.com/integrations/verificator-svc/public/proof-params/c15ad8f88949'
                  description: Returns proof-parameters and callback_url
    LinksKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: 18493889724322d9aba2d93238ae60c2638946737bbe8eaecd6e5efdc0b6f4ff
          description: User hash identifier
        type:
          type: string
          enum:
            - verification_link
    LinksLight:
      allOf:
        - $ref: '#/components/schemas/LinksKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              required:
                - get_proof_params
              properties:
                get_proof_params:
                  type: string
                  example: 'https://example.com/integrations/verificator-svc/light/public/proof-params/c15ad8f88949'
                  description: Returns proof-parameters and callback_url
    Parameters:
      allOf:
        - $ref: '#/components/schemas/ParametersKey'
        - type: object
          required:
            - attributes
          properties:
            attributes:
              type: object
              required:
                - event_id
                - event_data
                - selector
                - identity_counter
                - timestamp_lower_bound
                - timestamp_upper_bound
                - identity_counter_lower_bound
                - identity_counter_upper_bound
                - expiration_date_lower_bound
                - expiration_date_upper_bound
                - birth_date_lower_bound
                - birth_date_upper_bound
                - citizenship_mask
                - callback_url
              properties:
                event_id:
                  type: string
                  description: 'Unique random decimal on which the nullifiers depends. [See more details](https://github.com/rarimo/passport-zk-circuits?tab=readme-ov-file#eventid).'
                  example: '134934934030489134341633902189494613533900917417361106374681011849132651019822199'
                event_data:
                  type: string
                  example: '0x28906909b4f974d958f10cf00ff182f8942e75fb57caa1083a942350d6d7c930b'
                selector:
                  type: string
                  example: '27065'
                identity_counter:
                  type: integer
                  example: 0
                timestamp_lower_bound:
                  type: string
                  example: '0'
                timestamp_upper_bound:
                  type: string
                  example: '19000000000'
                identity_counter_lower_bound:
                  type: integer
                  example: 0
                identity_counter_upper_bound:
                  type: integer
                  example: 1
                expiration_date_lower_bound:
                  type: string
                  example: '52983525027888'
                expiration_date_upper_bound:
                  type: string
                  example: '52983525027888'
                birth_date_lower_bound:
                  type: string
                  example: '0x303030303030'
                birth_date_upper_bound:
                  type: string
                  example: '0x303630393032'
                citizenship_mask:
                  type: string
                  example: '0x554B52'
                callback_url:
                  type: string
                  example: 'https://example.com/integrations/verificator-svc/public/receive-proof/callback/c15ad8f88949'
    ParametersKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: user@example.com
          description: 'User identifier (e.g., email, address).'
        type:
          type: string
          enum:
            - proof_parameters
    Proof:
      allOf:
        - $ref: '#/components/schemas/ProofKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              required:
                - proof
              properties:
                proof:
                  type: object
                  format: types.ZKProof
                  description: |
                    Query ZK passport verification proof.
    ProofKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: 18493889724322d9aba2d93238ae60c2638946737bbe8eaecd6e5efdc0b6f4ff
          description: User hash identifier
        type:
          type: string
          enum:
            - receive_proof
    ProofParams:
      allOf:
        - $ref: '#/components/schemas/ProofParamsKey'
        - type: object
          required:
            - attributes
          properties:
            attributes:
              type: object
              required:
                - event_id
                - event_data
                - selector
                - identity_counter
                - timestamp_lower_bound
                - timestamp_upper_bound
                - identity_counter_lower_bound
                - identity_counter_upper_bound
                - expiration_date_lower_bound
                - expiration_date_upper_bound
                - birth_date_lower_bound
                - birth_date_upper_bound
                - citizenship_mask
              properties:
                event_id:
                  type: string
                  description: 'Unique random decimal on which the nullifiers depends. [See more details](https://github.com/rarimo/passport-zk-circuits?tab=readme-ov-file#eventid).'
                  example: '134934934030489134341633902189494613533900917417361106374681011849132651019822199'
                event_data:
                  type: string
                  example: '0x28906909b4f974d958f10cf00ff182f8942e75fb57caa1083a942350d6d7c930b'
                selector:
                  type: string
                  example: '27065'
                identity_counter:
                  type: integer
                  example: 0
                timestamp_lower_bound:
                  type: string
                  example: '0'
                timestamp_upper_bound:
                  type: string
                  example: '19000000000'
                identity_counter_lower_bound:
                  type: integer
                  example: 0
                identity_counter_upper_bound:
                  type: integer
                  example: 1
                expiration_date_lower_bound:
                  type: string
                  example: '52983525027888'
                expiration_date_upper_bound:
                  type: string
                  example: '52983525027888'
                birth_date_lower_bound:
                  type: string
                  example: '0x303030303030'
                birth_date_upper_bound:
                  type: string
                  example: '0x303630393032'
                citizenship_mask:
                  type: string
                  example: '0x554B52'
                callback_url:
                  type: string
                  example: 'https://example.com/integrations/verificator-svc/public/callback/c15ad8f88949'
    ProofParamsKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: user@example.com
          description: 'User identifier (e.g., email, address).'
        type:
          type: string
          enum:
            - get_proof_params
    ProofParamsLight:
      allOf:
        - $ref: '#/components/schemas/ProofParamsKey'
        - type: object
          required:
            - attributes
          properties:
            attributes:
              type: object
              required:
                - event_id
                - event_data
                - selector
                - identity_counter
                - timestamp_lower_bound
                - timestamp_upper_bound
                - identity_counter_lower_bound
                - identity_counter_upper_bound
                - expiration_date_lower_bound
                - expiration_date_upper_bound
                - birth_date_lower_bound
                - birth_date_upper_bound
                - citizenship_mask
              properties:
                event_id:
                  type: string
                  description: 'Unique random decimal on which the nullifiers depends. [See more details](https://github.com/rarimo/passport-zk-circuits?tab=readme-ov-file#eventid).'
                  example: '134934934030489134341633902189494613533900917417361106374681011849132651019822199'
                event_data:
                  type: string
                  example: '0x28906909b4f974d958f10cf00ff182f8942e75fb57caa1083a942350d6d7c930b'
                selector:
                  type: string
                  example: '27065'
                identity_counter:
                  type: integer
                  example: 0
                timestamp_lower_bound:
                  type: string
                  example: '0'
                timestamp_upper_bound:
                  type: string
                  example: '19000000000'
                identity_counter_lower_bound:
                  type: integer
                  example: 0
                identity_counter_upper_bound:
                  type: integer
                  example: 1
                expiration_date_lower_bound:
                  type: string
                  example: '52983525027888'
                expiration_date_upper_bound:
                  type: string
                  example: '52983525027888'
                birth_date_lower_bound:
                  type: string
                  example: '0x303030303030'
                birth_date_upper_bound:
                  type: string
                  example: '0x303630393032'
                citizenship_mask:
                  type: string
                  example: '0x554B52'
                callback_url:
                  type: string
                  example: 'https://example.com/integrations/verificator-svc/light/public/callback-sign/c15ad8f88949'
    Signature:
      allOf:
        - $ref: '#/components/schemas/SignatureKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              required:
                - pub_signals
                - signature
              properties:
                pub_signals:
                  type: array
                  items:
                    type: string
                  description: 'Generated proof''s public signals, see which element corresponds to a certain one pub-signal: https://github.com/rarimo/passport-zk-circuits#query-circuit-public-signals'
                  example:
                    - '20925303098627062266630214635967906856225360340756326562498326001746719100911'
                    - '52992115355956'
                    - '55216908480563'
                    - '0'
                    - '0'
                    - '0'
                    - '5589842'
                    - '0'
                    - '0'
                    - '304358862882731539112827930982999386691702727710421481944329166126417129570'
                    - '1217571210886365587192326979343136122389414675532'
                    - '5904469035765435216409767735512782299719282306270684213646687525744667841608'
                    - '39'
                    - '0'
                    - '0'
                    - '1'
                    - '0'
                    - '52983525027888'
                    - '52983525027888'
                    - '52983525027888'
                    - '5298352502788'
                    - '0'
                signature:
                  type: string
                  example: a079d249635fd884371dab4065f65bc36668d79787f005c9c56a574bf08ee51450c3ce98dcfc490ad049db8683cc02d8edbe8281e95077d1393b51a7d283031a01
                  description: 'Signature, must be len(signature) == 64'
    SignatureKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: '0x18493889724322d9aba2d93238ae60c2638946737bbe8eaecd6e5efdc0b6f4ff'
          description: User hash identifier
        type:
          type: string
          enum:
            - receive_signature
    Status:
      allOf:
        - $ref: '#/components/schemas/StatusKey'
        - type: object
          required:
            - attributes
          properties:
            attributes:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum:
                    - not_verified
                    - verified
                    - failed_verification
                    - uniqueness_check_failed
    StatusKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: user@example.com
          description: 'User identifier (e.g., email, address).'
        type:
          type: string
          enum:
            - user_status
    User:
      allOf:
        - $ref: '#/components/schemas/UserKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              properties:
                age_lower_bound:
                  type: integer
                  example: 18
                  description: Lower user age limit
                uniqueness:
                  type: boolean
                  example: true
                  description: Parameters for checking user uniqueness
                nationality:
                  type: string
                  example: UKR
                  description: User nationality
                nationality_check:
                  type: boolean
                  example: true
                  description: 'You can use this instead of ''nationality'' params, it will check nationality bit in selector'
                event_id:
                  type: string
                  example: '2234556494903931186902189494613533900917417361106374681011849132651019822199'
                  description: 'Unique random decimal on which the nullifiers depends. [See more details](https://github.com/rarimo/passport-zk-circuits?tab=readme-ov-file#eventid).'
                sex:
                  type: boolean
                  example: true
                  description: Enable verification of sex param
                expiration_lower_bound:
                  type: boolean
                  example: true
                  description: 'Enable verification of expiration lower bound param. When nothing (or `false`) set default value is used, otherwise encoded current UTC timestamp will be stored.'
    UserKey:
      type: object
      required:
        - id
        - type
      properties:
        id:
          type: string
          example: example@example.com
          description: 'User identifier (e.g., email, address).'
        type:
          type: string
          enum:
            - user
    UserParams:
      allOf:
        - $ref: '#/components/schemas/UserKey'
        - type: object
          x-go-is-request: true
          required:
            - attributes
          properties:
            attributes:
              required:
                - nullifier
                - age_lower_bound
                - nationality
                - sex
              properties:
                nullifier:
                  type: string
                  example: 2fe34ac35a35d0672dd9759aaee5e052d978e41b062c9da33aea9914c3a386a3
                  description: User nullifier
                age_lower_bound:
                  type: integer
                  example: 18
                  description: Lower user age limit
                nationality:
                  type: string
                  example: UKR
                  description: User nationality
                sex:
                  type: string
                  enum:
                    - F
                    - M
                    - O
                    - ''
                  example: F
                  description: User sex
  responses:
    internalError:
      description: Internal server error
      content:
        application/vnd.api+json:
          schema:
            $ref: '#/components/schemas/Errors'
    invalidParameter:
      description: One of the parameters is invalid. Refer to the response body for details.
      content:
        application/vnd.api+json:
          schema:
            $ref: '#/components/schemas/Errors'
    notFound:
      description: Requested resource does not exist.
      content:
        application/vnd.api+json:
          schema:
            $ref: '#/components/schemas/Errors'
    Unauthorized:
      description: You must provide a valid signature.
      content:
        application/vnd.api+json:
          schema:
            $ref: '#/components/schemas/Errors'
  parameters:
    eventIdParam:
      in: query
      name: event_id
      required: false
      description: 'Unique random decimal on which the nullifiers depends. [See more details](https://github.com/rarimo/passport-zk-circuits?tab=readme-ov-file#eventid).'
      example: '2234556494903931186902189494613533900917417361106374681011849132651019822199'
      schema:
        type: string
        format: string
    expirationLowerBoundParam:
      in: query
      name: expiration_lower_bound
      required: false
      description: |
        Param to enable or disable passport expiration lower bound check.\n
        - Empty value or `false` - default date is used (52983525027888)
        - `true` - encoded current UTC timestamp is used
      example: true
      schema:
        type: boolean
    idParam:
      in: query
      name: user_id
      required: true
      description: 'User identifier (e.g., email, address).'
      example: user@example.com
      schema:
        type: string
        format: string
    nationalityParam:
      in: query
      name: nationality
      required: true
      description: Type of verification nationality
      example: UKR
      schema:
        type: string
    pageLimitParam:
      in: query
      name: 'page[limit]'
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 15
        description: Numbers of items per page to return.
    pageNumberParam:
      in: query
      name: 'page[number]'
      required: false
      schema:
        type: integer
      description: The number of a page to return.
    pageOrder:
      in: query
      name: 'page[order]'
      required: false
      schema:
        type: string
        enum:
          - asc
          - desc
        default: desc
        description: 'Order of records on the page. If sortingParam is not specified, order of records is by default sorted by ID.'
    pathID:
      in: path
      name: user_id
      required: true
      description: 'User identifier (e.g., email, address).'
      example: user@example.com
      schema:
        type: string
        fomat: string
    pathIDHash:
      in: path
      name: user_id_hash
      required: true
      example: '0x384734934386483457309437583757364283'
      schema:
        type: string
        fomat: string
    typeOfVerificationAgeParam:
      in: query
      name: age_lower_bound
      required: true
      description: Type of verification age
      example: 18
      schema:
        type: integer
    typeOfVerificationUniquenessParam:
      in: query
      name: uniqueness
      required: true
      description: Type of verification uniqueness
      example: 'true'
      schema:
        type: boolean
